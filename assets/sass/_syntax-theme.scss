// enhanced syntax highlighting theme based on monokai
// with improved contrast and modern styling

// code block base styles
.chroma {
    color: #f8f8f2;
    background-color: #272822;
    padding: 1rem;
    border-radius: 0.5rem;
    overflow-x: auto;
    font-size: 0.9rem;
    line-height: 1.6;

    // smooth scrollbar
    &::-webkit-scrollbar {
        height: 8px;
    }

    &::-webkit-scrollbar-track {
        background: #1e1f1c;
        border-radius: 4px;
    }

    &::-webkit-scrollbar-thumb {
        background: #4a4a4a;
        border-radius: 4px;

        &:hover {
            background: #5a5a5a;
        }
    }
}

// syntax highlighting colors - monokai enhanced
.chroma .err {
    color: #f92672;
    background-color: transparent;
}

// error - removed harsh bg
.chroma .lnlinks {
    outline: none;
    text-decoration: none;
    color: inherit;
}

.chroma .lntd {
    vertical-align: top;
    padding: 0;
    margin: 0;
    border: 0;
}

.chroma .lntable {
    border-spacing: 0;
    padding: 0;
    margin: 0;
    border: 0;
}

.chroma .hl {
    background-color: #3c3d38;
}

// line numbers
.chroma .lnt,
.chroma .ln {
    white-space: pre;
    user-select: none;
    margin-right: 0.8em;
    padding: 0 0.4em 0 0.4em;
    color: #75715e;
    opacity: 0.6;
}

.chroma .line {
    display: flex;
}

// keywords
.chroma .k,
.chroma .kc,
.chroma .kd,
.chroma .kp,
.chroma .kr,
.chroma .kt {
    color: #66d9ef;
    font-weight: 500;
}

.chroma .kn {
    color: #f92672;
    font-weight: 500;
}

// names
.chroma .na,
.chroma .nc,
.chroma .nd,
.chroma .ne,
.chroma .nf,
.chroma .fm,
.chroma .nx {
    color: #a6e22e;
}

.chroma .no {
    color: #66d9ef;
}

.chroma .nt {
    color: #f92672;
}

// literals
.chroma .l,
.chroma .m,
.chroma .mb,
.chroma .mf,
.chroma .mh,
.chroma .mi,
.chroma .il,
.chroma .mo {
    color: #ae81ff;
}

// strings
.chroma .s,
.chroma .sa,
.chroma .sb,
.chroma .sc,
.chroma .dl,
.chroma .sd,
.chroma .s2,
.chroma .sh,
.chroma .si,
.chroma .sx,
.chroma .sr,
.chroma .s1,
.chroma .ss {
    color: #e6db74;
}

.chroma .ld {
    color: #e6db74;
}

.chroma .se {
    color: #ae81ff;
}

// operators
.chroma .o,
.chroma .ow {
    color: #f92672;
}

// comments
.chroma .c,
.chroma .ch,
.chroma .cm,
.chroma .c1,
.chroma .cs,
.chroma .cp,
.chroma .cpf {
    color: #75715e;
    font-style: italic;
}

// generic
.chroma .gd {
    color: #f92672;
}

.chroma .ge {
    font-style: italic;
}

.chroma .gi {
    color: #a6e22e;
}

.chroma .gs {
    font-weight: bold;
}

.chroma .gu {
    color: #75715e;
}

// light mode syntax highlighting
[data-theme="light"] {
    .chroma {
        color: #24292f;
        background-color: #f6f8fa;
    }

    // github-style light mode colors
    .chroma .err {
        color: #cf222e;
    }

    .chroma .hl {
        background-color: #fff8c5;
    }

    .chroma .lnt,
    .chroma .ln {
        color: #57606a;
    }

    .chroma .k,
    .chroma .kc,
    .chroma .kd,
    .chroma .kp,
    .chroma .kr,
    .chroma .kt,
    .chroma .kn {
        color: #cf222e;
    }

    .chroma .na,
    .chroma .nc,
    .chroma .nd,
    .chroma .ne,
    .chroma .nf,
    .chroma .fm {
        color: #8250df;
    }

    .chroma .nx {
        color: #24292f;
    }

    .chroma .no {
        color: #0550ae;
    }

    .chroma .nt {
        color: #116329;
    }

    .chroma .l,
    .chroma .m,
    .chroma .mb,
    .chroma .mf,
    .chroma .mh,
    .chroma .mi,
    .chroma .il,
    .chroma .mo {
        color: #0550ae;
    }

    .chroma .s,
    .chroma .sa,
    .chroma .sb,
    .chroma .sc,
    .chroma .dl,
    .chroma .sd,
    .chroma .s2,
    .chroma .sh,
    .chroma .si,
    .chroma .sx,
    .chroma .sr,
    .chroma .s1,
    .chroma .ss,
    .chroma .ld {
        color: #0a3069;
    }

    .chroma .se {
        color: #0550ae;
    }

    .chroma .o,
    .chroma .ow {
        color: #cf222e;
    }

    .chroma .c,
    .chroma .ch,
    .chroma .cm,
    .chroma .c1,
    .chroma .cs,
    .chroma .cp,
    .chroma .cpf {
        color: #6e7781;
    }

    .chroma .gd {
        color: #cf222e;
        background-color: #ffebe9;
    }

    .chroma .gi {
        color: #116329;
        background-color: #dafbe1;
    }

    // light mode scrollbar
    .chroma {
        &::-webkit-scrollbar-track {
            background: #e1e4e8;
        }

        &::-webkit-scrollbar-thumb {
            background: #c1c8cd;

            &:hover {
                background: #a1a8ad;
            }
        }
    }
}

// inline code (not in pre blocks)
code:not(.chroma code) {
    padding: 0.2em 0.4em;
    font-size: 0.9em;
    background-color: rgba(175, 184, 193, 0.2);
    border-radius: 0.25rem;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}

[data-theme="dark"] code:not(.chroma code) {
    background-color: rgba(110, 118, 129, 0.4);
}
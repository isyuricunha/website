---
name: Discord RSS Bot
description: Bot automatizado que monitora feeds RSS e envia atualiza√ß√µes para canais do Discord via webhook. Totalmente configur√°vel com feeds e categorias personalizadas. Possui tratamento de timeout para evitar travamentos em feeds RSS lentos.
homepage: https://github.com/isyuricunha/discord-rss-bot
github: https://github.com/isyuricunha/discord-rss-bot
techstack:
  - Python
  - Discord
  - Docker
  - SQLite
  - RSS
  - Webhooks
selected: true
status: inactive
---
## Sobre o Discord RSS Bot

Discord RSS Bot √© um bot automatizado que monitora feeds RSS e envia atualiza√ß√µes para canais do Discord via webhook. Totalmente configur√°vel com feeds e categorias personalizadas, possui tratamento de timeout para evitar travamentos em feeds RSS lentos.

### Recursos Principais

- **Monitoramento autom√°tico de RSS** com intervalos configur√°veis
- **Formata√ß√£o elegante para Discord** com emojis de categorias
- **Cache inteligente** para evitar posts duplicados
- **Tratamento de timeout** para evitar travamentos em feeds lentos
- **Tratamento robusto de erros** para problemas de rede
- **Totalmente containerizado** com suporte Docker
- **Imagens pr√©-constru√≠das** dispon√≠veis no Docker Hub & GHCR
- **Multi-plataforma** (AMD64, ARM64)
- **Configura√ß√£o flex√≠vel** - feeds universais ou baseados em categorias
- **M√∫ltiplas op√ß√µes de implanta√ß√£o** (Docker, Servi√ßo de Sistema)
- **Logging abrangente** e health checks
- **Focado em seguran√ßa** com containers n√£o-root

### In√≠cio R√°pido

#### Usando Container Pr√©-constru√≠do (Recomendado)

```bash
# Crie diret√≥rios para dados/logs persistentes
mkdir -p ~/docker/docker-data/rss-discord-bot/data
mkdir -p ~/docker/docker-data/rss-discord-bot/logs

# Defina permiss√µes para acesso do container (container roda como n√£o-root)
chmod 777 ~/docker/docker-data/rss-discord-bot/logs
chmod 777 ~/docker/docker-data/rss-discord-bot/data

# Crie arquivo .env com sua URL de webhook (n√£o comite este arquivo)
echo "DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_ID/YOUR_TOKEN" > .env

# Execute com Docker Compose (para teste com imagem pr√©-constru√≠da)
docker compose -f docker-compose.test.yml up -d

# Veja os logs
docker compose -f docker-compose.test.yml logs -f
```

### Imagens de Container

Imagens pr√©-constru√≠das est√£o dispon√≠veis em v√°rios registros:

- **Docker Hub**: `isyuricunha/discord-rss-bot:latest` | `isyuricunha/discord-rss-bot:2.0.8`
- **GitHub Container Registry**: `ghcr.io/isyuricunha/discord-news-rss-bot:latest` | `ghcr.io/isyuricunha/discord-news-rss-bot:2.0.8`

### Arquiteturas Suportadas

- `linux/amd64` (x86_64)
- `linux/arm64` (ARM64/AArch64)

### Versionamento Autom√°tico

O projeto usa CI/CD automatizado que:

- **Cria tags Git automaticamente** em cada push para `main` (ex: `v2.0.8`)
- **Cria um GitHub Release** para cada tag
- **Usa a mensagem do commit de trigger** como t√≠tulo e corpo do release
- **Publica em ambos os registros** simultaneamente
- **Mant√©m consist√™ncia de vers√£o** entre Docker Hub e GHCR
- **Atualiza ambas as tags `latest` e vers√µes espec√≠ficas**

### Op√ß√µes de Implanta√ß√£o

#### 1. Docker Compose Padr√£o (com arquivo .env)

```bash
docker compose up -d
```

#### 2. Vari√°veis de Ambiente Inline

```bash
# Edite docker-compose.inline.yml com sua URL de webhook
docker compose -f docker-compose.inline.yml up -d
```

#### 3. Imagem Pr√©-constru√≠da (de arquivo .env)

```bash
# Edite docker-compose.prebuilt.yml e configure o arquivo .env
docker compose -f docker-compose.prebuilt.yml up -d
```

#### 4. Testando com Todos os Feeds Padr√£o

```bash
# Use a configura√ß√£o de teste com todos os feeds pr√©-configurados
# Edite a URL do webhook em docker-compose.test.yml primeiro
docker compose -f docker-compose.test.yml up -d
```

### Instala√ß√£o como Servi√ßo de Sistema

Para implanta√ß√µes em produ√ß√£o, voc√™ pode instalar o bot como um servi√ßo de sistema:

#### Debian/Ubuntu

```bash
sudo ./scripts/install-debian.sh --webhook-url "YOUR_WEBHOOK_URL"
sudo systemctl start discord-rss-bot
```

#### Fedora/RHEL/CentOS

```bash
sudo ./scripts/install-fedora.sh --webhook-url "YOUR_WEBHOOK_URL"
sudo systemctl start discord-rss-bot
```

#### Alpine Linux

```bash
sudo ./scripts/install-alpine.sh --webhook-url "YOUR_WEBHOOK_URL"
sudo rc-service discord-rss-bot start
```

#### Windows

```powershell
# Execute como Administrador
.\windows\install.ps1 -WebhookUrl "YOUR_WEBHOOK_URL"
net start DiscordRSSBot
```

### Configura√ß√£o

#### Vari√°veis Obrigat√≥rias

| Vari√°vel | Descri√ß√£o |
|----------|-------------|
| `DISCORD_WEBHOOK_URL` | **Obrigat√≥rio**: URL do webhook do Discord |

#### Caminhos (recomendados)

| Vari√°vel | Padr√£o (imagem Docker) | Descri√ß√£o |
|----------|-------------------------|-------------|
| `RSS_BOT_DATA` | `/app/data` | Diret√≥rio onde o banco de dados SQLite √© armazenado |
| `RSS_BOT_LOGS` | `/app/logs` | Diret√≥rio onde os arquivos de log s√£o escritos |
| `RSS_BOT_PID` | `/tmp/discord-rss-bot.pid` | Caminho do arquivo PID (evite `/var/run` em containers n√£o-root) |

#### Substitui√ß√µes avan√ßadas (opcionais)

| Vari√°vel | Descri√ß√£o |
|----------|-------------|
| `DB_FILE` | Caminho expl√≠cito do arquivo SQLite DB (substitui `RSS_BOT_DATA`) |
| `LOG_FILE` | Caminho expl√≠cito do arquivo de log (substitui `RSS_BOT_LOGS`) |
| `DATA_DIR` | Alias legado para `RSS_BOT_DATA` |

#### Configura√ß√µes Opcionais do Bot

| Vari√°vel | Padr√£o | Descri√ß√£o |
|----------|---------|-------------|
| `CHECK_INTERVAL` | 300 | Intervalo entre verifica√ß√µes (segundos) |
| `POST_DELAY` | 3 | Atraso entre posts (segundos) |
| `COOLDOWN_DELAY` | 60 | Atraso ap√≥s limite de taxa (segundos) |
| `MAX_POST_LENGTH` | 1900 | Comprimento m√°ximo da mensagem |
| `MAX_CONTENT_LENGTH` | 800 | Comprimento m√°ximo do conte√∫do |
| `FEED_TIMEOUT` | 30 | Timeout de requisi√ß√£o de feed RSS (segundos) |

### Configura√ß√£o de Feeds RSS

O bot suporta **dois m√©todos de configura√ß√£o** com sistema de prioridade autom√°tica:

#### Op√ß√£o 1: Feeds Universais (Simples)

Use uma √∫nica vari√°vel para todos os seus feeds RSS:

```bash
RSS_FEEDS=https://example.com/rss,https://another.com/feed,https://third.com/rss
```

#### Op√ß√£o 2: Feeds Baseados em Categorias (Organizado)

Use vari√°veis separadas para diferentes categorias:

```bash
RSS_FEEDS_NEWS=https://g1.globo.com/dynamo/rss2.xml,https://rss.uol.com.br/feed/noticias.xml
RSS_FEEDS_TECHNOLOGY=https://canaltech.com.br/rss/,https://tecnoblog.net/feed/
RSS_FEEDS_SPORTS=https://globoesporte.globo.com/rss/ultimas/
RSS_FEEDS_BUSINESS=https://www.infomoney.com.br/rss/
RSS_FEEDS_POLITICS=https://www.gazetadopovo.com.br/rss/brasil.xml
```

#### Sistema de Prioridade

1. **RSS_FEEDS** (universal) - tem prioridade se configurado
2. **RSS_FEEDS_CATEGORY** (categorias) - usado se n√£o houver feeds universais
3. **Feeds padr√£o** - feeds de not√≠cias brasileiras se n√£o houver configura√ß√£o personalizada

#### Emojis Autom√°ticos de Categorias

- **News/Noticias/General** ‚Üí üì∞
- **Technology/Tecnologia** ‚Üí üíª
- **Politics/Politica** ‚Üí üèõÔ∏è
- **Sports/Esportes** ‚Üí ‚öΩ
- **Business/Economia** ‚Üí üíº
- **Outras categorias** ‚Üí üì¢

### Feeds Monitorados

#### üì∞ Not√≠cias Gerais

- G1
- UOL
- Band
- CNN Brasil
- Folha de S.Paulo

#### üèõÔ∏è Pol√≠tica & Conservador

- Gazeta do Povo
- Jovem Pan
- Di√°rio do Poder
- Pragmatismo Pol√≠tico
- Conex√£o Pol√≠tica
- Poder 360
- Revista Cruso√©
- Veja
- Metr√≥poles
- O Antagonista
- Terra Politics

#### üíª Tecnologia

- Canaltech
- Olhar Digital
- Tecnoblog
- Meio Bit
- ShowMeTech
- TecMundo
- Adrenaline
- Hardware.com.br
- Tudo Celular
- Oficina da Net

### Desenvolvimento

#### Executar Localmente (sem Docker)

```bash
# Instale depend√™ncias
pip install -r requirements.txt

# Configure vari√°veis de ambiente
export DISCORD_WEBHOOK_URL="your_webhook_url_here"

# Execute o bot
python bot_service.py
```

#### Personalizar Feeds

Voc√™ pode personalizar feeds de duas maneiras:

1. **Vari√°veis de Ambiente (Recomendado)**
Use o formato `RSS_FEEDS_CATEGORY_NAME` como descrito na se√ß√£o de Configura√ß√£o acima.

2. **Modifica√ß√£o de C√≥digo**
Edite a fun√ß√£o `parse_feeds_from_env()` em `bot_service.py` para modificar feeds padr√£o.

### Stack Tecnol√≥gica

- **Python** para a l√≥gica principal do bot
- **Webhooks do Discord** para postar atualiza√ß√µes
- **Docker** para containeriza√ß√£o e implanta√ß√£o
- **SQLite** para persist√™ncia de dados e cache
- **Parsing de RSS** para monitoramento de feeds
- **Systemd** para gerenciamento de servi√ßos Linux

O Discord RSS Bot √© uma solu√ß√£o completa para postar automaticamente atualiza√ß√µes de feeds RSS em canais do Discord, com tratamento robusto de erros, configura√ß√£o flex√≠vel e m√∫ltiplas op√ß√µes de implanta√ß√£o.
